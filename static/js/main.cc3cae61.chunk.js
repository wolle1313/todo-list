(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{13:function(t,e,n){},14:function(t,e,n){},16:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),c=n(8),i=n.n(c),r=(n(13),n(6)),o=n(2),l=n(3),d=n(5),h=n(4),j=(n(14),n(0)),u=function(t){var e=t.error.format?t.error.choosen?t.error.past?void 0:"podana data jest przesz\u0142a":"wybierz dat\u0119":"data nie ma odpowiedniego formatu";return Object(j.jsx)(j.Fragment,{children:e?Object(j.jsx)("span",{className:"error",children:e}):null})},k=function(t){var e=t.error.length?t.error.repeat?void 0:"nazwa nie powinna si\u0119 powtarza\u0107":"nazwa powinna mie\u0107 co najmniej 3 znaki";return Object(j.jsx)(j.Fragment,{children:e?Object(j.jsx)("span",{className:"error",children:e}):null})},p=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleNameInput=function(t){t.target.value.length<50&&a.setState({name:t.target.value})},a.handleDateInput=function(t){a.setState({date:t.target.value})},a.handleCheckboxChange=function(){a.setState({important:!a.state.important})},a.handleDescInput=function(t){t.target.value.length<100&&a.setState({description:t.target.value})},a.handleSelectChange=function(t){a.setState({category:t.target.value})},a.handleBtnAdd=function(){var t=a.state,e=t.name,n=t.date,s=t.category,c=t.important,i=t.description,r=a.taskValidation(e,n,a.props.tasks);r.correct&&(a.props.click(e,n,s,c,i),a.setState({name:"",date:"",description:"",category:"osobiste",important:!1})),a.setState({errors:{name:r.name,date:r.date}})},a.state={name:"",date:"",description:"",category:"osobiste",important:!1,errors:{name:{length:!0,repeat:!0},date:{choosen:!0,format:!0,past:!0}}},a}return Object(l.a)(n,[{key:"taskValidation",value:function(t,e,n){var a={length:!1,repeat:!1},s={format:!1,length:!1,past:!1},c=!1;t.length>2&&(a.length=!0,-1===n.findIndex((function(e){return e.name===t}))&&(a.repeat=!0));var i=new Date(e).getTime();if(parseInt(i)&&(s.choosen=!0,16===e.length)){s.format=!0;var r=(new Date).getTime();console.log("".concat(i," - ").concat(r)),parseInt(i)>parseInt(r)&&(s.past=!0)}return!0===s.past&&!0===s.format&&!0===s.choosen&&!0===a.repeat&&!0===a.length&&(c=!0),{name:a,date:s,correct:c}}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"inputs",children:[Object(j.jsxs)("div",{id:"nameInput",children:[Object(j.jsx)("label",{htmlFor:"nameTask",children:"Nazwa zadania"}),Object(j.jsx)("input",{type:"text",id:"nameTask",value:this.state.name,onInput:this.handleNameInput}),Object(j.jsx)(k,{error:this.state.errors.name})]}),Object(j.jsxs)("div",{id:"descriptionInput",children:[Object(j.jsx)("label",{htmlFor:"descTask",children:"Opis (opcjonalny)"}),Object(j.jsx)("textarea",{type:"text",id:"descTask",value:this.state.description,onInput:this.handleDescInput})]}),Object(j.jsxs)("div",{id:"selectTask",children:[Object(j.jsx)("label",{htmlFor:"selectTask",children:"Kategoria"}),Object(j.jsx)("div",{children:Object(j.jsxs)("select",{id:"selectTask",value:this.state.category,onChange:this.handleSelectChange,children:[Object(j.jsx)("option",{value:"osobiste",children:"osobiste"}),Object(j.jsx)("option",{value:"praca",children:"praca"}),Object(j.jsx)("option",{value:"dom",children:"dom"})]})})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"dateTask",children:"Data"}),Object(j.jsx)("input",{type:"datetime-local",id:"dateTask",value:this.state.date,onInput:this.handleDateInput}),Object(j.jsx)(u,{error:this.state.errors.date})]}),Object(j.jsxs)("div",{id:"checkPrio",children:[Object(j.jsx)("input",{id:"prioBox",type:"checkbox",checked:this.state.important,onChange:this.handleCheckboxChange}),Object(j.jsx)("label",{htmlFor:"prioBox",children:"Priorytet"})]}),Object(j.jsx)("button",{onClick:this.handleBtnAdd,children:"DODAJ ZADANIE"})]})}}]),n}(a.Component),b=function(t){var e=t.task,n=e.name,a=e.date,s=e.category,c=e.important,i=e.description,r="".concat(a.slice(11,13),":").concat(a.slice(14,16)," ").concat(a.slice(8,10),"-").concat(a.slice(5,7),"-").concat(a.slice(0,4));return Object(j.jsxs)("div",{className:c?"task imp":"task",children:[Object(j.jsx)("h1",{children:n}),Object(j.jsx)("h3",{children:i}),Object(j.jsxs)("h2",{className:"todo",children:["Termin uko\u0144czenia: ",r]}),Object(j.jsx)("span",{className:"category "+s,children:s}),c?Object(j.jsx)("h2",{className:"important",children:"Wa\u017cne"}):null,Object(j.jsx)("button",{className:"finishTask",onClick:function(){return t.clickFinished(t.task)},children:"Zrobione!"}),Object(j.jsx)("button",{className:"removeTask",onClick:function(){return t.clickRemove(n,!1)},children:"X"})]})},m=function(t){var e=t.pastTask,n=e.name,a=e.date,s=e.finishDate,c="".concat(a.slice(8,10),"-").concat(a.slice(5,7),"-").concat(a.slice(0,4)," ").concat(a.slice(11,13),":").concat(a.slice(14,16)," ");return Object(j.jsxs)("div",{className:"task pastTask",children:[Object(j.jsx)("h1",{children:n}),Object(j.jsxs)("h2",{children:["Termin uko\u0144czenia: ",c]}),Object(j.jsxs)("h2",{children:["Data wykonania: ",s]}),Object(j.jsx)("button",{className:"removeTask",onClick:function(){return t.clickRemove(n,!0)},children:"X"})]})},O=function(t){var e=function(e){var n=e.sort((function(t,e){var n=[t.date,e.date].map((function(t){return"".concat(t.slice(0,4)).concat(t.slice(5,7)).concat(t.slice(8,10)).concat(t.slice(11,13)).concat(t.slice(14,16))}));return n[0]-n[1]}));return"wszystko"!==t.currentSort&&(n=n.filter((function(e){return e.category===t.currentSort}))),!0===t.important&&(n=n.filter((function(t){return!0===t.important}))),n}(t.tasks).map((function(e){return Object(j.jsx)(b,{task:e,clickRemove:t.clickRemove,clickFinished:t.clickFinished},e.id)})),n=t.pastTasks.map((function(e){return Object(j.jsx)(m,{clickRemove:t.clickRemove,pastTask:e},e.id)}));return Object(j.jsxs)("div",{className:"tasks",children:[Object(j.jsxs)("div",{className:"currentTasks",children:[Object(j.jsxs)("h1",{className:"taskTitle",children:["Zdania do wykonania(",t.tasks.length,")"]}),e.length?e:Object(j.jsx)("h2",{children:"Dodaj swoje pierwsze zadanie wy\u017cej!"})]}),Object(j.jsxs)("div",{className:"pastTasks",children:[Object(j.jsxs)("h1",{className:"taskTitle",children:["Zdania wykonane(",t.pastTasks.length,")"]}),n.length?n:Object(j.jsx)("h2",{children:"Nie uko\u0144czono jeszcze \u017cadnych zada\u0144"})]})]})},x=function(){return Object(j.jsxs)("div",{id:"intro",children:[Object(j.jsx)("h1",{children:"Lista zada\u0144 do wykonania"}),Object(j.jsx)("span",{children:"Lista przechowuje nazw\u0119, opis zadania oraz dat\u0119 kt\xf3r\u0105 u\u017cytkownik ustawi na termin wykonania."}),Object(j.jsx)("span",{children:'Po wykonaniu kliknij "wykonane" aby przesun\u0105\u0107 zadanie do "zadania wykonane".'}),Object(j.jsx)("span",{children:'Je\u017celi chcesz usun\u0105\u0107 zadania kliknij "x" a zniknie ono bez \u015bladu!'}),Object(j.jsx)("span",{children:"Opis zadania jest ograniczony do 100 znak\xf3w"}),Object(j.jsx)("span",{children:"A nazwa do 50"})]})},v=function(t){var e=t.click;return Object(j.jsxs)("div",{className:"menuSort",children:[Object(j.jsx)("div",{onClick:function(t){return e("wszystko",t.target)},children:"Wszystko"}),Object(j.jsx)("div",{onClick:function(t){return e("osobiste",t.target)},children:"Osobiste"}),Object(j.jsx)("div",{onClick:function(t){return e("praca",t.target)},children:"Praca"}),Object(j.jsx)("div",{onClick:function(t){return e("dom",t.target)},children:"Dom"})]})},f=function(t){return Object(j.jsxs)("div",{className:"sorts",children:[Object(j.jsx)("h3",{children:"filtry"}),Object(j.jsx)("button",{onClick:t.clickImportant,children:"!"}),Object(j.jsx)("button",{className:"sortBy",children:"Kategoria"}),Object(j.jsx)(v,{click:t.clickMenu})]})},g=function(t){Object(d.a)(n,t);var e=Object(h.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).handleButtonClick=function(t,e,n,s,c){var i={id:a.counter++,name:t,date:e,category:n,important:s,description:c},o=[].concat(Object(r.a)(a.state.tasks),[i]);a.setState({tasks:o})},a.removeTask=function(t,e){var n,s=(n=e?a.state.pastTasks:a.state.tasks).findIndex((function(e){return t===e.name}));n.splice(s,1),e?a.setState({pastTasks:n}):a.setState({tasks:n})},a.taskFinished=function(t){var e=a.state.tasks,n=e.findIndex((function(e){return t.name===e.name})),s=e.splice(n,1),c=(new Date).toLocaleString();c="".concat(c.slice(0,2),"-").concat(c.slice(3,5),"-").concat(c.slice(6,8)," ").concat(c.slice(11,17)),s[0].finishDate=c;var i=[].concat(Object(r.a)(s),Object(r.a)(a.state.pastTasks));a.setState({tasks:e,pastTasks:i})},a.handleClickImportant=function(t){a.setState({clickImportant:!a.state.clickImportant}),t.target.classList.toggle("clicked")},a.counter=9,a.state={tasks:[],pastTasks:[],clickImportant:!1,currentSort:"wszystko"},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("./initialTasks.json").then((function(t){return t.json()})).then((function(e){return t.setState({tasks:e})}))}},{key:"handleMenuClick",value:function(t,e){document.querySelectorAll(".menuSort div").forEach((function(t){return t.classList.remove("clicked")})),e.classList.add("clicked"),this.setState({currentSort:t})}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"wrapper",children:[Object(j.jsx)(f,{clickImportant:this.handleClickImportant.bind(this),clickMenu:this.handleMenuClick.bind(this)}),Object(j.jsx)(x,{}),Object(j.jsx)(p,{tasks:this.state.tasks,click:this.handleButtonClick.bind(this)}),Object(j.jsx)(O,{important:this.state.clickImportant,currentSort:this.state.currentSort,tasks:this.state.tasks,pastTasks:this.state.pastTasks,clickRemove:this.removeTask.bind(this),clickFinished:this.taskFinished.bind(this)})]})}}]),n}(a.Component);i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.cc3cae61.chunk.js.map